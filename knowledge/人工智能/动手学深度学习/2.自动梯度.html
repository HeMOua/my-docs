<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.19" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.67" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme="dark"] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta property="og:url" content="https://jishuzhaix.cn/knowledge/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/%E5%8A%A8%E6%89%8B%E5%AD%A6%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/2.%E8%87%AA%E5%8A%A8%E6%A2%AF%E5%BA%A6.html"><meta property="og:site_name" content="技数斋"><meta property="og:title" content="自动梯度"><meta property="og:description" content="自动梯度 对如下函数 关于列向量求导 在计算梯度之前，需要一个地方来存放梯度 计算y 通过调用反向传播函数来自动计算y关于x每个分量的梯度 现在来计算x的另一个函数 注意：在默认情况下, Pytorch会累积梯度,我们需要清除之前的值 将某些计算移动到记录的计算图之外 即使构建函数的计算图需要通过 Python控制流（例如，条件、循钚或任意函数调用），..."><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2025-02-17T14:21:20.000Z"><meta property="article:modified_time" content="2025-02-17T14:21:20.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"自动梯度","image":[""],"dateModified":"2025-02-17T14:21:20.000Z","author":[{"@type":"Person","name":"贺墨于","url":"https://jishuzhaix.cn"}]}</script><title>自动梯度 | 技数斋</title><meta name="description" content="自动梯度 对如下函数 关于列向量求导 在计算梯度之前，需要一个地方来存放梯度 计算y 通过调用反向传播函数来自动计算y关于x每个分量的梯度 现在来计算x的另一个函数 注意：在默认情况下, Pytorch会累积梯度,我们需要清除之前的值 将某些计算移动到记录的计算图之外 即使构建函数的计算图需要通过 Python控制流（例如，条件、循钚或任意函数调用），...">
    <link rel="preload" href="/assets/style-BO4_5Pyc.css" as="style"><link rel="stylesheet" href="/assets/style-BO4_5Pyc.css">
    <link rel="modulepreload" href="/assets/app-BDEZM-WQ.js"><link rel="modulepreload" href="/assets/2.自动梯度.html-D2L06Sz3.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper-DlAUqK2U.js">
    <link rel="prefetch" href="/assets/index.html-lsMfdRoL.js" as="script"><link rel="prefetch" href="/assets/intro.html-CukayvlK.js" as="script"><link rel="prefetch" href="/assets/index.html-Cz3kv3g-.js" as="script"><link rel="prefetch" href="/assets/index.html-DSTwkosa.js" as="script"><link rel="prefetch" href="/assets/index.html-CSRGl7dG.js" as="script"><link rel="prefetch" href="/assets/index.html-Cu_efpit.js" as="script"><link rel="prefetch" href="/assets/请求转发器.html-C2snecIs.js" as="script"><link rel="prefetch" href="/assets/index.html-B0kB5eqd.js" as="script"><link rel="prefetch" href="/assets/index.html-Yb9ITC6t.js" as="script"><link rel="prefetch" href="/assets/index.html-NmfvDKSW.js" as="script"><link rel="prefetch" href="/assets/index.html-CXQhW0yH.js" as="script"><link rel="prefetch" href="/assets/index.html-B_39MZB4.js" as="script"><link rel="prefetch" href="/assets/index.html-GHk0XNzl.js" as="script"><link rel="prefetch" href="/assets/炼丹经验.html-BjgRw-Jd.js" as="script"><link rel="prefetch" href="/assets/index.html-DcUL7ZN-.js" as="script"><link rel="prefetch" href="/assets/00-设计模式7大原则.html-L8vBKWY9.js" as="script"><link rel="prefetch" href="/assets/01-工厂模式.html-X33_4AEe.js" as="script"><link rel="prefetch" href="/assets/02-抽象工厂模式.html-BUc7eFmo.js" as="script"><link rel="prefetch" href="/assets/index.html-VdmHURm7.js" as="script"><link rel="prefetch" href="/assets/index.html-nPsuxrjF.js" as="script"><link rel="prefetch" href="/assets/index.html-Dj5YATaz.js" as="script"><link rel="prefetch" href="/assets/index.html-9eaQbsnV.js" as="script"><link rel="prefetch" href="/assets/index.html-B2l9MPQC.js" as="script"><link rel="prefetch" href="/assets/index.html-DTjw-JKl.js" as="script"><link rel="prefetch" href="/assets/Conda使用.html-DVms5ND_.js" as="script"><link rel="prefetch" href="/assets/安装路径问题.html-BulVD1OW.js" as="script"><link rel="prefetch" href="/assets/Django快速入门.html-B2T65Jn_.js" as="script"><link rel="prefetch" href="/assets/01-Flask简介.html-K7MRtiBJ.js" as="script"><link rel="prefetch" href="/assets/Poetry 安装常用包.html-WI2YMfJR.js" as="script"><link rel="prefetch" href="/assets/Poetry教程.html-9K-JrJq4.js" as="script"><link rel="prefetch" href="/assets/01-入门.html-Ce-f7yuk.js" as="script"><link rel="prefetch" href="/assets/02-控件.html-3dqJ_fiD.js" as="script"><link rel="prefetch" href="/assets/03-打包.html-TqnqtvDl.js" as="script"><link rel="prefetch" href="/assets/SqlAlchemy基础.html-D7smUJ3q.js" as="script"><link rel="prefetch" href="/assets/01-入门.html-Dx1yUSC7.js" as="script"><link rel="prefetch" href="/assets/02-特殊控件.html-D80pv3X_.js" as="script"><link rel="prefetch" href="/assets/03-常用示例.html-XuyuvCz1.js" as="script"><link rel="prefetch" href="/assets/Jupyter.html-DThtxaI9.js" as="script"><link rel="prefetch" href="/assets/Matplotlib.html-Bonc3afN.js" as="script"><link rel="prefetch" href="/assets/Numpy.html-CrF0mpTQ.js" as="script"><link rel="prefetch" href="/assets/PIP指南.html-ciPXhfcJ.js" as="script"><link rel="prefetch" href="/assets/Pandas.html-D00c8jq8.js" as="script"><link rel="prefetch" href="/assets/Python基础.html-CVu5QkDh.js" as="script"><link rel="prefetch" href="/assets/VSCode相对路径.html-DW1V3Q_L.js" as="script"><link rel="prefetch" href="/assets/logging 日志.html-CbGxeIXR.js" as="script"><link rel="prefetch" href="/assets/pyinstaller 打包.html-BolPeiXy.js" as="script"><link rel="prefetch" href="/assets/yield的用法详解.html-QBE0F97a.js" as="script"><link rel="prefetch" href="/assets/上下文管理器.html-QWUOZLFw.js" as="script"><link rel="prefetch" href="/assets/安装目录介绍.html-DQDnaU7x.js" as="script"><link rel="prefetch" href="/assets/枚举的使用.html-CDg03pDm.js" as="script"><link rel="prefetch" href="/assets/离线安装环境.html-CU_G-lpu.js" as="script"><link rel="prefetch" href="/assets/装饰器.html-BRteSTip.js" as="script"><link rel="prefetch" href="/assets/argparse基本用法.html-CltV9G1U.js" as="script"><link rel="prefetch" href="/assets/glob库.html-ChBOG1Dv.js" as="script"><link rel="prefetch" href="/assets/pathlib库.html-DjVhhphp.js" as="script"><link rel="prefetch" href="/assets/tqdm库.html-CqYnXijK.js" as="script"><link rel="prefetch" href="/assets/拓展库.html-D4Tq1MSY.js" as="script"><link rel="prefetch" href="/assets/进程池multiprocessing.Pool.html-B7c16dIh.js" as="script"><link rel="prefetch" href="/assets/Selenium笔记.html-BILcYVAk.js" as="script"><link rel="prefetch" href="/assets/0.Pytorch安装.html-CgcS0Z5Q.js" as="script"><link rel="prefetch" href="/assets/1.PyTorch基础.html-COAYc2yT.js" as="script"><link rel="prefetch" href="/assets/10.模型固化.html-Cfynh5Fs.js" as="script"><link rel="prefetch" href="/assets/2.PyTorch常用函数.html-CxgGD7ak.js" as="script"><link rel="prefetch" href="/assets/01-启动参数.html-CsH63SGG.js" as="script"><link rel="prefetch" href="/assets/02-提示词.html-DEnN0qlm.js" as="script"><link rel="prefetch" href="/assets/03-StableDiffusion理论.html-BMYAodWQ.js" as="script"><link rel="prefetch" href="/assets/04-StableDiffusion组件.html-BbJmD1VU.js" as="script"><link rel="prefetch" href="/assets/05-推荐插件.html-DFRlsT0f.js" as="script"><link rel="prefetch" href="/assets/1-安装Tensorflow.html-DxLYuZt2.js" as="script"><link rel="prefetch" href="/assets/2-常用.html-D6UiRNtN.js" as="script"><link rel="prefetch" href="/assets/1.pytorch环境配置.html-BMneKoou.js" as="script"><link rel="prefetch" href="/assets/3.线性回归.html-Dt00JSPN.js" as="script"><link rel="prefetch" href="/assets/5.卷积神经网络.html-j9Tgo_J_.js" as="script"><link rel="prefetch" href="/assets/6.多CPU训练和分布式训练.html-DNj1NqBM.js" as="script"><link rel="prefetch" href="/assets/7.计算机视觉.html-CpmvvsZN.js" as="script"><link rel="prefetch" href="/assets/Unit10 - 设计理念.html-Bk664hfZ.js" as="script"><link rel="prefetch" href="/assets/Unit12 - SVM.html-CYpstEA4.js" as="script"><link rel="prefetch" href="/assets/Unit13 - k-Means.html-DQtafSq3.js" as="script"><link rel="prefetch" href="/assets/Unit14 - 降维.html-CkXhYnjf.js" as="script"><link rel="prefetch" href="/assets/01-改善深度神经网络.html-Bya_LuLg.js" as="script"><link rel="prefetch" href="/assets/02-机器学习策略.html-CIcbSZbq.js" as="script"><link rel="prefetch" href="/assets/03-卷积神经网络.html-CbLYIzbM.js" as="script"><link rel="prefetch" href="/assets/CNN感受野.html-Dmw_YknD.js" as="script"><link rel="prefetch" href="/assets/01-图基本知识.html-Ypz5S8rE.js" as="script"><link rel="prefetch" href="/assets/02-GraphEmbedding.html-BFgEKeCm.js" as="script"><link rel="prefetch" href="/assets/03-图神经网络.html-kjzLcgue.js" as="script"><link rel="prefetch" href="/assets/04-图相关包使用.html-CnstXnvX.js" as="script"><link rel="prefetch" href="/assets/Chapter12 - 机器终生学习_压缩.html-BUE3CMNf.js" as="script"><link rel="prefetch" href="/assets/Chapter6 - GAN.html-CIC8uaf4.js" as="script"><link rel="prefetch" href="/assets/Chapter7 - 自监督.html-BZInXiz4.js" as="script"><link rel="prefetch" href="/assets/Chapter8 - 来自人类的恶意.html-BM5wuegp.js" as="script"><link rel="prefetch" href="/assets/Chapter9 - 领域自适应.html-CEXt1BCB.js" as="script"><link rel="prefetch" href="/assets/回归指标.html-D12Rc53z.js" as="script"><link rel="prefetch" href="/assets/目标检测.html-DgthLGNP.js" as="script"><link rel="prefetch" href="/assets/《CSS世界》阅读笔记.html-CJ-3pwj-.js" as="script"><link rel="prefetch" href="/assets/eslint9.html-B8I8fiDl.js" as="script"><link rel="prefetch" href="/assets/eslint基本概念.html-CzJdK4iu.js" as="script"><link rel="prefetch" href="/assets/Flex布局笔记.html-DwP4SJE3.js" as="script"><link rel="prefetch" href="/assets/MockJs.html-Bm4yQr1W.js" as="script"><link rel="prefetch" href="/assets/NVM.html-CFm0yYpy.js" as="script"><link rel="prefetch" href="/assets/Node.js.html-SVwf5RBr.js" as="script"><link rel="prefetch" href="/assets/1-React介绍及环境搭建.html-B-u01hlq.js" as="script"><link rel="prefetch" href="/assets/11-项目案例.html-Cme0Kk12.js" as="script"><link rel="prefetch" href="/assets/2-JSX学习及其他基础.html-BtiPePNA.js" as="script"><link rel="prefetch" href="/assets/3-React事件绑定.html-CnxcjH7y.js" as="script"><link rel="prefetch" href="/assets/4-React组件.html-BuhA9kvN.js" as="script"><link rel="prefetch" href="/assets/5-React状态.html-B3FEpvpI.js" as="script"><link rel="prefetch" href="/assets/6-React样式控制.html-O4fFTqAo.js" as="script"><link rel="prefetch" href="/assets/axios学习.html-X0pq-NKI.js" as="script"><link rel="prefetch" href="/assets/npm.html-CAlcOAEX.js" as="script"><link rel="prefetch" href="/assets/封装复杂组件.html-CLnREy4b.js" as="script"><link rel="prefetch" href="/assets/webpack开发速记.html-DMGshzJE.js" as="script"><link rel="prefetch" href="/assets/webpack笔记.html-DVCi5aG3.js" as="script"><link rel="prefetch" href="/assets/Yarn笔记.html-6Ikpujk6.js" as="script"><link rel="prefetch" href="/assets/.extend()方法和(function(_)_..._)(jQuery)详解.html-B7ktRri9.js" as="script"><link rel="prefetch" href="/assets/CSS.html-BtG1mye5.js" as="script"><link rel="prefetch" href="/assets/JavaScript.html-Bt9K6TM4.js" as="script"><link rel="prefetch" href="/assets/commonjs和esm.html-CqpsDKOL.js" as="script"><link rel="prefetch" href="/assets/offsetWidth、clientWidth、innerWidth.html-CSZwD14n.js" as="script"><link rel="prefetch" href="/assets/数组切片.html-x0wwCHKn.js" as="script"><link rel="prefetch" href="/assets/遍历对象、数组.html-DqYNBwtT.js" as="script"><link rel="prefetch" href="/assets/MyBatis 自动关闭 session.html-B991qtnH.js" as="script"><link rel="prefetch" href="/assets/MyBatis笔记.html-BRXq0zEA.js" as="script"><link rel="prefetch" href="/assets/Mybatis三种SqlSession.html-Bq-0B90B.js" as="script"><link rel="prefetch" href="/assets/Mybatis分页插件实现.html-D1sEVh1B.js" as="script"><link rel="prefetch" href="/assets/Mybatis源码解读.html-DoRsN3IJ.js" as="script"><link rel="prefetch" href="/assets/Mybatis缓存机制.html-BUau14Po.js" as="script"><link rel="prefetch" href="/assets/创建SqlSessionFactory的方法.html-CRwvk87c.js" as="script"><link rel="prefetch" href="/assets/手写持久层框架.html-Bhppz5xF.js" as="script"><link rel="prefetch" href="/assets/Shiro.html-DR9kF0yu.js" as="script"><link rel="prefetch" href="/assets/Spring_Shiro_Redis.html-Dem_-fQe.js" as="script"><link rel="prefetch" href="/assets/Spring_Shiro.html-B7eGZYRR.js" as="script"><link rel="prefetch" href="/assets/SpringBoot_shiro_Redis_JWT.html-D02xkNI9.js" as="script"><link rel="prefetch" href="/assets/整合SpringBoot.html-DEeqoAOa.js" as="script"><link rel="prefetch" href="/assets/FactoryBean和BeanFactory.html-bJgI21fb.js" as="script"><link rel="prefetch" href="/assets/Spring笔记.html-Y9rbS-Lm.js" as="script"><link rel="prefetch" href="/assets/SpringBoot热部署.html-CHm4aDWD.js" as="script"><link rel="prefetch" href="/assets/SpringBoot特殊类.html-Bv-qyrGb.js" as="script"><link rel="prefetch" href="/assets/SpringBoot笔记.html-CiduAA85.js" as="script"><link rel="prefetch" href="/assets/SpringBoot高级.html-CdgdA1Zj.js" as="script"><link rel="prefetch" href="/assets/整合Mybatis.html-0uvdXv5q.js" as="script"><link rel="prefetch" href="/assets/01-微服务理论.html-CuxoGm48.js" as="script"><link rel="prefetch" href="/assets/02-微服务架构编码构建.html-LbaXtE5O.js" as="script"><link rel="prefetch" href="/assets/03-Eureka注册中心.html-Dw3Lj3ZZ.js" as="script"><link rel="prefetch" href="/assets/04-Ribbon负载均衡.html-ChpgX76n.js" as="script"><link rel="prefetch" href="/assets/05-nacos注册中心.html-D7XNIMgO.js" as="script"><link rel="prefetch" href="/assets/06-nacos配置管理.html-BvtHU8iZ.js" as="script"><link rel="prefetch" href="/assets/07-Feign远程调用.html--H5_K0oA.js" as="script"><link rel="prefetch" href="/assets/08-Gatewawry服务网关.html-DXGaI3lc.js" as="script"><link rel="prefetch" href="/assets/09-Docker部署.html-CYEQGYEZ.js" as="script"><link rel="prefetch" href="/assets/10-RabbitMQ消息队列.html-CspEK9ZM.js" as="script"><link rel="prefetch" href="/assets/11-Elasticsearch搜索.html-EpwH9Zsx.js" as="script"><link rel="prefetch" href="/assets/12-DSL与RestClient.html-C2D0O_ys.js" as="script"><link rel="prefetch" href="/assets/13-数据聚合同步与集群.html-89HBm4xO.js" as="script"><link rel="prefetch" href="/assets/ModelAttribute处理流程.html-BR0E2FTu.js" as="script"><link rel="prefetch" href="/assets/SpringMVC数据校验并通过国际化显示错误信息.html-DlVqIwAT.js" as="script"><link rel="prefetch" href="/assets/00-k8s 的资源清单.html-DWZa5_qy.js" as="script"><link rel="prefetch" href="/assets/01-k8s核心概念.html-BgL4a6iY.js" as="script"><link rel="prefetch" href="/assets/02-搭建k8s集群.html-Cbvr6Ad8.js" as="script"><link rel="prefetch" href="/assets/03-命令行工具kubectl.html-CJKS_Cih.js" as="script"><link rel="prefetch" href="/assets/04-深入Pod.html-DFZ2pGuZ.js" as="script"><link rel="prefetch" href="/assets/Java基础.html-O5LqXrUR.js" as="script"><link rel="prefetch" href="/assets/Java注解.html-YprBEH2a.js" as="script"><link rel="prefetch" href="/assets/Java10~13 新特性.html-BiJ6B_7E.js" as="script"><link rel="prefetch" href="/assets/Java8 新特性.html-BM6GclyQ.js" as="script"><link rel="prefetch" href="/assets/Java9 新特性.html-CQ2zqmmB.js" as="script"><link rel="prefetch" href="/assets/Node2Vec.html-roy1VuWY.js" as="script"><link rel="prefetch" href="/assets/简易教程.html-DWVCVO4m.js" as="script"><link rel="prefetch" href="/assets/01-了解认识.html-twgGN0wk.js" as="script"><link rel="prefetch" href="/assets/02-Prompt工程.html-gtuXzwMO.js" as="script"><link rel="prefetch" href="/assets/03-Function calling.html-DvJhDbDf.js" as="script"><link rel="prefetch" href="/assets/04-RAG.html-BDWqotSY.js" as="script"><link rel="prefetch" href="/assets/05-AssistantsApi.html-BoHvIaxY.js" as="script"><link rel="prefetch" href="/assets/06-LlamaIndex.html-CivqUbWp.js" as="script"><link rel="prefetch" href="/assets/07-SemanticKernel.html-Domm3FWu.js" as="script"><link rel="prefetch" href="/assets/08-LangChain.html-Dyhf5_xo.js" as="script"><link rel="prefetch" href="/assets/index.html-46oMEJ1L.js" as="script"><link rel="prefetch" href="/assets/本地模型部署.html-B4pJz6EX.js" as="script"><link rel="prefetch" href="/assets/Import和export.html-jGiVCXA5.js" as="script"><link rel="prefetch" href="/assets/Promise学习.html-CpX5B0eH.js" as="script"><link rel="prefetch" href="/assets/Slot插槽.html-DDPYr0Hy.js" as="script"><link rel="prefetch" href="/assets/Sync的使用.html-BlJ57zWf.js" as="script"><link rel="prefetch" href="/assets/Vue-Router.html-DG1fuMCv.js" as="script"><link rel="prefetch" href="/assets/Vue.js笔记.html-CxzZbQ1v.js" as="script"><link rel="prefetch" href="/assets/Vuex.html-CrVJQGfI.js" as="script"><link rel="prefetch" href="/assets/vue.config.js配置.html-DFfJvqsE.js" as="script"><link rel="prefetch" href="/assets/修复Router导航重复.html-DaeuJAz2.js" as="script"><link rel="prefetch" href="/assets/2-组合式Api-响应式.html-BCkLk6xL.js" as="script"><link rel="prefetch" href="/assets/5-单文件组件-script setup.html-CGSXpkpQ.js" as="script"><link rel="prefetch" href="/assets/5-单文件组件-语法定义.html-BPxmkYpm.js" as="script"><link rel="prefetch" href="/assets/1-全局Api.html-Coqzh87Z.js" as="script"><link rel="prefetch" href="/assets/1-开始.html-DGSJcHl3.js" as="script"><link rel="prefetch" href="/assets/2-基础.html-B36BuvCu.js" as="script"><link rel="prefetch" href="/assets/1.安装Detectron2.html-Uqu-znGj.js" as="script"><link rel="prefetch" href="/assets/SSD.html-HTSnxExL.js" as="script"><link rel="prefetch" href="/assets/1-YOLOv1理论.html-CYzXVZX3.js" as="script"><link rel="prefetch" href="/assets/2-网络架构.html-wAGrOpAy.js" as="script"><link rel="prefetch" href="/assets/Ground Truth制作.html-BJVBucKm.js" as="script"><link rel="prefetch" href="/assets/01-YOLOv2理论.html-DfbqW4LL.js" as="script"><link rel="prefetch" href="/assets/YOLOv2_网络搭建.html-BYmCAF8t.js" as="script"><link rel="prefetch" href="/assets/排错日志.html-D21FNHmr.js" as="script"><link rel="prefetch" href="/assets/404.html-CrCqXB1w.js" as="script"><link rel="prefetch" href="/assets/index.html-C4CMCgl8.js" as="script"><link rel="prefetch" href="/assets/index.html-eZiLiNq6.js" as="script"><link rel="prefetch" href="/assets/index.html-BeifD1vj.js" as="script"><link rel="prefetch" href="/assets/index.html-gJyD0sCg.js" as="script"><link rel="prefetch" href="/assets/index.html-eb-nNkFL.js" as="script"><link rel="prefetch" href="/assets/index.html-43q_511E.js" as="script"><link rel="prefetch" href="/assets/index.html-LisiJrrj.js" as="script"><link rel="prefetch" href="/assets/index.html-BLM5vC1G.js" as="script"><link rel="prefetch" href="/assets/index.html-BmNPbBwq.js" as="script"><link rel="prefetch" href="/assets/index.html-Cyfklzym.js" as="script"><link rel="prefetch" href="/assets/index.html-CbyU5JiM.js" as="script"><link rel="prefetch" href="/assets/index.html-CGwWRW-T.js" as="script"><link rel="prefetch" href="/assets/index.html-CswdSnKj.js" as="script"><link rel="prefetch" href="/assets/index.html-BAXcazol.js" as="script"><link rel="prefetch" href="/assets/index.html-DHDPzlG3.js" as="script"><link rel="prefetch" href="/assets/index.html-COmBAWUE.js" as="script"><link rel="prefetch" href="/assets/index.html-CKgVZV2K.js" as="script"><link rel="prefetch" href="/assets/index.html-B2bUkMf-.js" as="script"><link rel="prefetch" href="/assets/index.html-BzixNPG0.js" as="script"><link rel="prefetch" href="/assets/index.html-B5Mr-PAm.js" as="script"><link rel="prefetch" href="/assets/index.html-C31WOUhf.js" as="script"><link rel="prefetch" href="/assets/index.html-BDYbalC6.js" as="script"><link rel="prefetch" href="/assets/index.html-BbXGW-CE.js" as="script"><link rel="prefetch" href="/assets/index.html--xiuS9jJ.js" as="script"><link rel="prefetch" href="/assets/index.html-DmVIUMUI.js" as="script"><link rel="prefetch" href="/assets/index.html-DJ0LtJ-d.js" as="script"><link rel="prefetch" href="/assets/index.html-B6JSEeMZ.js" as="script"><link rel="prefetch" href="/assets/index.html-DBN5YUBe.js" as="script"><link rel="prefetch" href="/assets/index.html-KCXsMRmV.js" as="script"><link rel="prefetch" href="/assets/index.html-B2Vpc4Lp.js" as="script"><link rel="prefetch" href="/assets/index.html-uPXY6xBT.js" as="script"><link rel="prefetch" href="/assets/index.html-B3dGIswh.js" as="script"><link rel="prefetch" href="/assets/index.html-CkcAisP_.js" as="script"><link rel="prefetch" href="/assets/index.html-C0WrNFIc.js" as="script"><link rel="prefetch" href="/assets/index.html-C_MCkqYs.js" as="script"><link rel="prefetch" href="/assets/index.html-CBYIeAaO.js" as="script"><link rel="prefetch" href="/assets/index.html-CWehGSUC.js" as="script"><link rel="prefetch" href="/assets/index.html-DOQI-Jdj.js" as="script"><link rel="prefetch" href="/assets/index.html-BOMQbHlT.js" as="script"><link rel="prefetch" href="/assets/index.html-nnwttR-D.js" as="script"><link rel="prefetch" href="/assets/index.html-xTT3GbZH.js" as="script"><link rel="prefetch" href="/assets/index.html-B-DgGb3Y.js" as="script"><link rel="prefetch" href="/assets/index.html-B2yW3_uZ.js" as="script"><link rel="prefetch" href="/assets/index.html-uqquubKZ.js" as="script"><link rel="prefetch" href="/assets/index.html-COabGeVb.js" as="script"><link rel="prefetch" href="/assets/index.html-nMdrCQmD.js" as="script"><link rel="prefetch" href="/assets/index.html-C_JUwKoF.js" as="script"><link rel="prefetch" href="/assets/index.html-DxEXpZ2s.js" as="script"><link rel="prefetch" href="/assets/index.html-WaoAd9Iv.js" as="script"><link rel="prefetch" href="/assets/index.html-k3Dxe2TH.js" as="script"><link rel="prefetch" href="/assets/index.html-CzpH913s.js" as="script"><link rel="prefetch" href="/assets/index.html-CtFwkIsu.js" as="script"><link rel="prefetch" href="/assets/index.html-D6f1Ktq1.js" as="script"><link rel="prefetch" href="/assets/index.html-bmvkEek5.js" as="script"><link rel="prefetch" href="/assets/index.html-DcJunjwY.js" as="script"><link rel="prefetch" href="/assets/index.html-CfIlAZGa.js" as="script"><link rel="prefetch" href="/assets/index.html-DBQ-CjXk.js" as="script"><link rel="prefetch" href="/assets/index.html-CuVKq7h9.js" as="script"><link rel="prefetch" href="/assets/index.html-DVvBrx8Y.js" as="script"><link rel="prefetch" href="/assets/index.html-CXqTwQ5y.js" as="script"><link rel="prefetch" href="/assets/index.html-CXPeWI3P.js" as="script"><link rel="prefetch" href="/assets/index.html-CV0gxU8z.js" as="script"><link rel="prefetch" href="/assets/index.html-CHyiQ2ux.js" as="script"><link rel="prefetch" href="/assets/index.html-CbWhEPrC.js" as="script"><link rel="prefetch" href="/assets/index.html-D5rSVfop.js" as="script"><link rel="prefetch" href="/assets/index.html-Db_3IUNq.js" as="script"><link rel="prefetch" href="/assets/mermaid.esm.min-XLqsWPqx.js" as="script"><link rel="prefetch" href="/assets/photoswipe.esm-CMg0yb1C.js" as="script"><link rel="prefetch" href="/assets/setupDevtools-7MC2TMWH-DOaVnMW0.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">跳至主要內容</a><!--]--><div class="theme-container external-link-icon has-toc" vp-container><!--[--><header id="navbar" class="vp-navbar" vp-navbar><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><a class="route-link vp-brand" href="/" aria-label="带我回家"><img class="vp-nav-logo" src="/logo.png" alt><!----><span class="vp-site-name hide-in-pad">技数斋</span></a><!--]--></div><div class="vp-navbar-center"><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link route-link-active auto-link" href="/knowledge/" aria-label="知识体系"><!--[--><i class="vp-icon fas fa-book" style=""></i><!--]-->知识体系<!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="专题"><!--[--><i class="vp-icon fas fa-pencil" style=""></i>专题<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/topic/java/" aria-label="Java"><!--[--><i class="vp-icon fas fa-brands fa-java" style=""></i><!--]-->Java<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/topic/front-end/" aria-label="前端"><!--[--><i class="vp-icon fas fa-brands fa-html5" style=""></i><!--]-->前端<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/topic/python/" aria-label="Python"><!--[--><i class="vp-icon fas fa-brands fa-python" style=""></i><!--]-->Python<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/topic/algorithm/" aria-label="算法"><!--[--><i class="vp-icon fas fa-solid fa-square-binary" style=""></i><!--]-->算法<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/topic/llm/" aria-label="大模型"><!--[--><i class="vp-icon fas fa-solid fa-hexagon-nodes" style=""></i><!--]-->大模型<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/tools/" aria-label="小工具"><!--[--><i class="vp-icon fas fa-wrench" style=""></i><!--]-->小工具<!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="网站相关"><!--[--><i class="vp-icon fas fa-circle-info" style=""></i>网站相关<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/about/author/" aria-label="关于作者"><!--[--><i class="vp-icon fas fa-user" style=""></i><!--]-->关于作者<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/timeline/" aria-label="更新历史"><!--[--><i class="vp-icon fas fa-history" style=""></i><!--]-->更新历史<!----></a></li></ul></button></div></div></nav><!--]--></div><div class="vp-navbar-end"><!--[--><!----><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/HeMOua/my-docs" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-color-mode-switch" id="color-mode-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" name="auto" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" name="dark" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" name="light" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar" vp-sidebar><!----><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><i class="vp-icon fas fa-brands fa-java" style=""></i><span class="vp-sidebar-title">Java</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><i class="vp-icon fas fa-brands fa-html5" style=""></i><span class="vp-sidebar-title">前端</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><i class="vp-icon fas fa-brands fa-python" style=""></i><span class="vp-sidebar-title">Python</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><i class="vp-icon fas fa-solid fa-square-binary" style=""></i><span class="vp-sidebar-title">人工智能</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Py Torch</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Stable Diffusion</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Tensorflow</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><!----><span class="vp-sidebar-title">动手学深度学习</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/knowledge/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/%E5%8A%A8%E6%89%8B%E5%AD%A6%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/6.%E5%A4%9ACPU%E8%AE%AD%E7%BB%83%E5%92%8C%E5%88%86%E5%B8%83%E5%BC%8F%E8%AE%AD%E7%BB%83.html" aria-label="/knowledge/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/%E5%8A%A8%E6%89%8B%E5%AD%A6%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/6.%E5%A4%9ACPU%E8%AE%AD%E7%BB%83%E5%92%8C%E5%88%86%E5%B8%83%E5%BC%8F%E8%AE%AD%E7%BB%83.html"><!---->/knowledge/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/%E5%8A%A8%E6%89%8B%E5%AD%A6%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/6.%E5%A4%9ACPU%E8%AE%AD%E7%BB%83%E5%92%8C%E5%88%86%E5%B8%83%E5%BC%8F%E8%AE%AD%E7%BB%83.html<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/knowledge/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/%E5%8A%A8%E6%89%8B%E5%AD%A6%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/1.pytorch%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE.html" aria-label="pytorch环境配置"><!---->pytorch环境配置<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/knowledge/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/%E5%8A%A8%E6%89%8B%E5%AD%A6%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/5.%E5%8D%B7%E7%A7%AF%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C.html" aria-label="卷积神经网络"><!---->卷积神经网络<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/knowledge/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/%E5%8A%A8%E6%89%8B%E5%AD%A6%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/7.%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89.html" aria-label="数据增广和微调"><!---->数据增广和微调<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/knowledge/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/%E5%8A%A8%E6%89%8B%E5%AD%A6%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/3.%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92.html" aria-label="线性回归+基本优化算法"><!---->线性回归+基本优化算法<!----></a></li><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/knowledge/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/%E5%8A%A8%E6%89%8B%E5%AD%A6%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/2.%E8%87%AA%E5%8A%A8%E6%A2%AF%E5%BA%A6.html" aria-label="自动梯度"><!---->自动梯度<!----></a></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">吴恩达机器学习系列课程</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">吴恩达神经网络系列课程</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">图像分类</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">图神经网络</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">大语言模型</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">李宏毅深度学习</span><span class="vp-arrow end"></span></button><!----></section></li><li><a class="route-link auto-link vp-sidebar-link" href="/knowledge/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/%E7%82%BC%E4%B8%B9%E7%BB%8F%E9%AA%8C.html" aria-label="炼丹经验"><!---->炼丹经验<!----></a></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">算法详解</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">评判指标</span><span class="vp-arrow end"></span></button><!----></section></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><i class="vp-icon fas fa-solid fa-palette" style=""></i><span class="vp-sidebar-title">设计模式</span><span class="vp-arrow end"></span></button><!----></section></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->自动梯度</h1><div class="page-info"><span class="page-author-info" aria-label="作者🖊" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://jishuzhaix.cn" target="_blank" rel="noopener noreferrer">贺墨于</a></span><span property="author" content="贺墨于"></span></span><!----><span class="page-date-info" aria-label="写作日期📅" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span data-allow-mismatch="text">2025年2月17日</span><meta property="datePublished" content="2025-02-17T14:21:20.000Z"></span><!----><span class="page-reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>小于 1 分钟</span><meta property="timeRequired" content="PT1M"></span><!----><!----></div><hr></div><!----><!----><div class="theme-hope-content" vp-content><h1 id="自动梯度" tabindex="-1"><a class="header-anchor" href="#自动梯度"><span>自动梯度</span></a></h1><p>对如下函数</p><mjx-container class="MathJax" jax="SVG" display="true" style="position:relative;"><svg style="vertical-align:-0.464ex;" xmlns="http://www.w3.org/2000/svg" width="9.159ex" height="2.481ex" role="img" focusable="false" viewBox="0 -891.7 4048.4 1096.7" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D466" d="M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(767.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mn" transform="translate(1823.6,0)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="msup" transform="translate(2323.6,0)"><g data-mml-node="mi"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="mi" transform="translate(605,413) scale(0.707)"><path data-c="1D447" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z"></path></g></g><g data-mml-node="mi" transform="translate(3476.4,0)"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g></g></g></svg><mjx-assistive-mml unselectable="on" display="block"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>y</mi><mo>=</mo><mn>2</mn><msup><mi>x</mi><mi>T</mi></msup><mi>x</mi></math></mjx-assistive-mml></mjx-container><p>关于列向量求导</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> torch</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">x </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> torch.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">arange</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4.0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>在计算梯度之前，需要一个地方来存放梯度</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">x.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">requires_grad_</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">True</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">x.grad</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>计算y</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">y </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> *</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> torch.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">dot</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(x, x)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">y</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>通过调用反向传播函数来自动计算y关于x每个分量的梯度</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">y.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">backward</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">x.grad </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># tensor([ 0.,  4.,  8., 12.])</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">x.grad </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 4</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> *</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> x </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># tensor([True, True, True, True])</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>现在来计算<code>x</code>的另一个函数</p><p><strong>注意</strong>：<mark>在默认情况下, Pytorch会累积梯度,我们需要清除之前的值</mark></p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">x.grad.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">zero_</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">y </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> x.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">sum</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">y.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">backward</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">x.grad</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>将某些计算移动到记录的计算图之外</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">x.grad.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">zero_</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">y </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> x </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> x</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">u </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> y.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">detach</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 将u移动到计算图之外，u就相当于一个常数了</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">z </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> u </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> x</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">z.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">sum</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">().</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">backward</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">x.grad </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> u </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># tensor([True, True, True, True])</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">x.grad.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">zero_</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">y.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">sum</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">().</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">backward</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">x.grad </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> *</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> x </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># tensor([True, True, True, True])</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>即使构建函数的计算图需要通过 Python控制流（例如，条件、循钚或任意函数调用），我们仍然可以计算得到的变量的梯度</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">def</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> f</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">):</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    b </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> a </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">*</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    while</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> b.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">norm</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1000</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        b </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> b </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">*</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> b.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">sum</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        c </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> b</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    else</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        c </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 100</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> *</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> b</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> c</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">a </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> torch.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">rand</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">size</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(), </span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">requires_grad</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">True</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">d </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;"> f</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(a)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">d.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">backward</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">a</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!----><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link vp-meta-label" href="https://github.com/HeMOua/my-docs/edit/main/src/knowledge/人工智能/动手学深度学习/2.自动梯度.md" aria-label="编辑此页" rel="noopener noreferrer" target="_blank"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon" name="edit"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->编辑此页<!----></a></div><div class="vp-meta-item git-info"><div class="update-time"><span class="vp-meta-label">上次编辑于: </span><span class="vp-meta-info" data-allow-mismatch="text">2025/2/17 14:21:20</span></div><div class="contributors"><span class="vp-meta-label">贡献者: </span><!--[--><!--[--><span class="vp-meta-info" title="email: fangqichenchao@163.com">HeMOu</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><a class="route-link auto-link prev" href="/knowledge/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/%E5%8A%A8%E6%89%8B%E5%AD%A6%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/3.%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92.html" aria-label="线性回归+基本优化算法"><div class="hint"><span class="arrow start"></span>上一页</div><div class="link"><!---->线性回归+基本优化算法</div></a><!----></nav><!----><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper" vp-footer><div class="vp-footer">技数斋 | <a href='/about/website/'>关于网站</a></div><div class="vp-copyright">Copyright © 2025 贺墨于 </div></footer></div><!--]--><!--[--><!----><!--[--><!--]--><!--]--><!--]--></div>
    <script type="module" src="/assets/app-BDEZM-WQ.js" defer></script>
  </body>
</html>
